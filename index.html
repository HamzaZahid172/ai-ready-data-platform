<!DOCTYPE html>
<html>
<head><title>AI Demo</title></head>
<body>
<h2>Prediction Demo</h2>

<input id="orders" placeholder="Total Orders">
<input id="value" placeholder="Avg Order Value">
<button onclick="predict()">Predict</button>

<p id="result"></p>

<script>
  const API_URL = "https://ai-ready-data-platform.onrender.com/predict";

  async function predict() {
    const orders = Number(document.getElementById("orders").value);
    const value = Number(document.getElementById("value").value);
    const resultEl = document.getElementById("result");

    resultEl.innerText = "Loading...";

    try {
      const response = await fetch(API_URL, {
        method: "POST",
        headers: {
          "Content-Type": "application/json"
        },
        body: JSON.stringify({
          total_orders: orders,
          avg_order_value: value
        })
      });

      if (!response.ok) {
        throw new Error("HTTP " + response.status);
      }

      const data = await response.json();
      resultEl.innerText = "Prediction: " + data.prediction;
    } catch (error) {
      console.error(error);
      resultEl.innerText = "Error calling API. Try again.";
    }
  }
</script>

</body>
</html>
